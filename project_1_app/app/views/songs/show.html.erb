<h2><%= @song.song_name %></h2>

<div class="container user_background_<%= @song.user.user_background_style %>">

  <main>
    <h4><%= @song.user.user_name %></h4>
    <p><%= image_tag @song.image.portrait.url, width: 395 %></p>

  </main>
  <aside>
    <h5><%= @song.song_name %></h5>
    <audio controls>
      <source src="<%= @song.song_file %>" type="audio/ogg">
      <source src="<%= @song.song_file %>" type="audio/mpeg">
    </audio>
    <br>
    <h5>Other songs by the same Artist</h5>
    <% @song.user.songs.each do |other_song| %>
      <%= other_song.song_name %> 
      
      <br>
    <% end %>
  </aside>

</div>

<div class="bottom">
  <div class="comments">
    <p>
      <strong>Comments:</strong><br>
      <button><%= link_to 'Create', new_comment_path %></button>
      <br>
      <% @song.comments.each do |comment| %>
      <!-- Now have to find a way to make the user name show up. -->
        <%= comment.user.user_name %>
        <%= comment.comment_content %>
        <br>
        <%= link_to 'Show', comment %>
        <% if can? :edit, comment %>
          <!-- Redirected back to specific song -->
          <%= link_to 'Edit', edit_comment_path(comment.id) %>
        <% end %>
        <% if can? :delete, comment %>
          <%= link_to 'Destroy', comment, method: :delete, data: {confirm: 'Are you sure?' } %>
        <% end %>
        <br>
      <% end %>
    </p>
  </div>
<div>

  <button><%= link_to 'Back', songs_path %></button>